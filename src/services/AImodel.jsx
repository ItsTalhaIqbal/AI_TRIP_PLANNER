import { GoogleGenerativeAI } from "@google/generative-ai";


const apiKey = import.meta.env.VITE_GEMINI_API_KEY;
const genAI = new GoogleGenerativeAI(apiKey);

const model = genAI.getGenerativeModel({
  model: "gemini-1.5-flash"
});

const generationConfig = {
  temperature: 1,
  topP: 0.95,
  topK: 40,
  maxOutputTokens: 8192,
  responseMimeType: "application/json",
};

export const chatSession = model.startChat({
  generationConfig,
  history: [
    {
      role: "user",
      parts: [
        {text: "generate Travel Plan: Las Vegas, for 3 days for Just Me with a low budget, Give me a Hotels options list with hotel name, hotel area, Price, hotel image URL, geo coordinates, rating, description,n and suggest itinerary with place name, place details, place image URL, get coordinates, ticket pricing, time to travel each of location for 3 days with each day with the best time to visit in JSON format\n"},
      ],
    },
    {
      role: "model",
      parts: [
        {text: "```json\n{\n  \"travelPlan\": {\n    \"destination\": \"Las Vegas, NV\",\n    \"duration\": \"3 days\",\n    \"travelerCount\": 1,\n    \"budget\": \"low\",\n    \"hotels\": [\n      {\n        \"name\": \"Circus Circus Hotel & Casino\",\n        \"area\": \"Las Vegas Strip\",\n        \"price\": {\n          \"min\": 30,\n          \"max\": 80\n        },\n        \"image\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/1/1f/CircusCircusLasVegas.jpg/1280px-CircusCircusLasVegas.jpg\", \n        \"coordinates\": {\n          \"latitude\": 36.1276,\n          \"longitude\": -115.1729\n        },\n        \"rating\": 3.5,\n        \"description\": \"A budget-friendly option on the Strip, known for its circus acts and affordable rooms.  Older property but conveniently located.\"\n      },\n      {\n        \"name\": \"The D Las Vegas\",\n        \"area\": \"Downtown Las Vegas\",\n        \"price\": {\n          \"min\": 40,\n          \"max\": 90\n        },\n        \"image\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/4/4f/The_D_Las_Vegas_Hotel_and_Casino.jpg/1280px-The_D_Las_Vegas_Hotel_and_Casino.jpg\",\n        \"coordinates\": {\n          \"latitude\": 36.1676,\n          \"longitude\": -115.1422\n        },\n        \"rating\": 3.8,\n        \"description\": \"Modern hotel in Downtown, offering a more affordable alternative to the Strip.  Closer to Fremont Street Experience.\"\n      },\n      {\n        \"name\": \"Main Street Station Casino, Brewery & Hotel\",\n        \"area\": \"Downtown Las Vegas\",\n        \"price\": {\n          \"min\": 35,\n          \"max\": 75\n        },\n        \"image\": \"https://www.casino.org/wp-content/uploads/2020/03/main-street-station-casino-brewery-hotel-las-vegas.jpg\",\n        \"coordinates\": {\n          \"latitude\": 36.1687,\n          \"longitude\": -115.1413\n        },\n        \"rating\": 3.7,\n        \"description\": \"Historic hotel in Downtown, known for its brewery and affordable prices.  Offers a more classic Vegas vibe.\"\n      }\n    ],\n    \"itinerary\": {\n      \"day1\": {\n        \"theme\": \"Downtown Exploration\",\n        \"bestTime\": \"Late afternoon/Evening\",\n        \"locations\": [\n          {\n            \"name\": \"Fremont Street Experience\",\n            \"details\": \"A pedestrian mall with light shows and street performers.\",\n            \"image\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/2/2b/FremontStreetExperience.jpg/1280px-FremontStreetExperience.jpg\",\n            \"coordinates\": {\n              \"latitude\": 36.1693,\n              \"longitude\": -115.1403\n            },\n            \"ticketPricing\": \"Free\",\n            \"travelTime\": \"10 min walk from Main Street Station (Example)\"\n          },\n          {\n            \"name\": \"Neon Museum\",\n            \"details\": \"Outdoor museum displaying vintage Las Vegas signs.\",\n            \"image\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/d/d8/Neon_Museum_Las_Vegas_sign.jpg/1280px-Neon_Museum_Las_Vegas_sign.jpg\",\n            \"coordinates\": {\n              \"latitude\": 36.1476,\n              \"longitude\": -115.1352\n            },\n            \"ticketPricing\": \"$20 - $30 (check website for current prices)\",\n            \"travelTime\": \"15-20 min taxi or ride-share from Fremont Street\"\n          }\n        ]\n      },\n      \"day2\": {\n        \"theme\": \"Las Vegas Strip Highlights\",\n        \"bestTime\": \"Late Morning/Afternoon\",\n        \"locations\": [\n          {\n            \"name\": \"Bellagio Fountains\",\n            \"details\": \"Free water show with music and lights.\",\n            \"image\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/4/41/Bellagio_Fountains_Show.jpg/1920px-Bellagio_Fountains_Show.jpg\",\n            \"coordinates\": {\n              \"latitude\": 36.1146,\n              \"longitude\": -115.1729\n            },\n            \"ticketPricing\": \"Free\",\n            \"travelTime\": \"Dependent on your hotel location - walking, bus, or rideshare\"\n          },\n          {\n            \"name\": \"The Strip Walk\",\n            \"details\": \"Explore the casinos and hotels along the Las Vegas Strip.  Free and self-guided.\",\n            \"image\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/a/a5/Las_Vegas_Strip_at_night.jpg/1280px-Las_Vegas_Strip_at_night.jpg\",\n            \"coordinates\": \"36.1215,-115.1739 (approximate center)\",\n            \"ticketPricing\": \"Free\",\n            \"travelTime\": \"Several hours - plan to walk and take breaks\"\n          }\n        ]\n      },\n      \"day3\": {\n        \"theme\": \"Free Activities & Budget Eats\",\n        \"bestTime\": \"All Day\",\n        \"locations\":[\n          {\n            \"name\": \"Seven Magic Mountains\",\n            \"details\": \"Colorful art installation outside of Las Vegas. Requires transportation.\",\n            \"image\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/6/6c/Seven_Magic_Mountains_2017-07-08.jpg/1280px-Seven_Magic_Mountains_2017-07-08.jpg\",\n            \"coordinates\": {\n              \"latitude\": 36.0739,\n              \"longitude\": -115.0219\n            },\n            \"ticketPricing\": \"Free\",\n            \"travelTime\": \"30-45 min drive from the Strip (rideshare recommended)\"\n          },          \n          {\n            \"name\": \"Explore Local Buffets/Cheap Eats\",\n            \"details\": \"Las Vegas offers surprisingly affordable buffet options and inexpensive eateries. Research options beforehand.\",\n            \"image\": null,\n            \"coordinates\": null,\n            \"ticketPricing\": \"Varies greatly\",\n            \"travelTime\": \"Dependent on location\"\n          }\n        ]\n      }\n    }\n  }\n}\n```\n\n**Important Notes:**\n\n* **Hotel Prices:** The price ranges provided are estimates and can fluctuate significantly depending on the season, day of the week, and availability. Always check current prices on booking websites.\n* **Transportation:**  Consider using public transportation (the Deuce bus is a relatively inexpensive option for the Strip) or ride-sharing services to save money on transportation costs. Walking is feasible for many locations, but be prepared for the heat and distances.\n* **Food:**  Sticking to cheaper restaurants, buffets (some have surprisingly good deals), and grocery store snacks will significantly help keep your budget low.\n* **Activities:**  Many free activities are included in the itinerary.  Always check official websites for the most up-to-date pricing for attractions.\n* **Image URLs:**  I've included readily available images, but you might want to search for higher-resolution images for better planning.\n\n\nThis JSON provides a structured framework. Remember to customize it based on your preferences and always double-check prices and details before you travel.  Enjoy your low-budget Las Vegas trip!\n"},
      ],
    },
  ],
})



